<html>
  <head>
    <title>Add House</title>
    <link rel="stylesheet" href="/output.css" />
  </head>
  <body>
    <!-- Navbar -->
    <%- include('../partials/navbar.ejs') %>

    <!-- Form -->
    <div class="max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded-lg">
      <h2 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
        <%= editing ? "Edit" : "Register" %> Your House
      </h2>

      <form action="<%= editing ? '/host/edit-house' : '/add-house' %>" method="post" class="space-y-5">
        <% if (editing) { %>
          <input 
            type="text" 
            name="houseId"
            value="<%= house.houseId %>" 
            hidden
          >
        <% } %>
          
        <!-- Name Field -->
        <div>
          <label for="houseName" class="block mb-1 font-medium text-gray-700"
            >House Name:</label
          >
          <input
            type="text"
            name="houseName"
            id="houseName"
            placeholder="Enter your house name"
            value="<%= editing ? house.houseName : '' %>"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
          />
        </div>

        <!-- City Field -->
        <div>
          <select
              name="houseState"
              id="houseState"
              required
              class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
          >
              <option value="" disabled <%= !editing ? "selected" : "" %>>Select a state</option>
              <option value="andhra-pradesh" <%= editing && house.houseState === "andhra-pradesh" ? "selected" : "" %>>Andhra Pradesh</option>
              <option value="arunachal-pradesh" <%= editing && house.houseState === "arunachal-pradesh" ? "selected" : "" %>>Arunachal Pradesh</option>
              <option value="assam" <%= editing && house.houseState === "assam" ? "selected" : "" %>>Assam</option>
              <option value="bihar" <%= editing && house.houseState === "bihar" ? "selected" : "" %>>Bihar</option>
              <option value="chhattisgarh" <%= editing && house.houseState === "chhattisgarh" ? "selected" : "" %>>Chhattisgarh</option>
              <option value="goa" <%= editing && house.houseState === "goa" ? "selected" : "" %>>Goa</option>
              <option value="gujarat" <%= editing && house.houseState === "gujarat" ? "selected" : "" %>>Gujarat</option>
              <option value="haryana" <%= editing && house.houseState === "haryana" ? "selected" : "" %>>Haryana</option>
              <option value="himachal-pradesh" <%= editing && house.houseState === "himachal-pradesh" ? "selected" : "" %>>Himachal Pradesh</option>
              <option value="jharkhand" <%= editing && house.houseState === "jharkhand" ? "selected" : "" %>>Jharkhand</option>
              <option value="karnataka" <%= editing && house.houseState === "karnataka" ? "selected" : "" %>>Karnataka</option>
              <option value="kerala" <%= editing && house.houseState === "kerala" ? "selected" : "" %>>Kerala</option>
              <option value="madhya-pradesh" <%= editing && house.houseState === "madhya-pradesh" ? "selected" : "" %>>Madhya Pradesh</option>
              <option value="maharashtra" <%= editing && house.houseState === "maharashtra" ? "selected" : "" %>>Maharashtra</option>
              <option value="manipur" <%= editing && house.houseState === "manipur" ? "selected" : "" %>>Manipur</option>
              <option value="meghalaya" <%= editing && house.houseState === "meghalaya" ? "selected" : "" %>>Meghalaya</option>
              <option value="mizoram" <%= editing && house.houseState === "mizoram" ? "selected" : "" %>>Mizoram</option>
              <option value="nagaland" <%= editing && house.houseState === "nagaland" ? "selected" : "" %>>Nagaland</option>
              <option value="odisha" <%= editing && house.houseState === "odisha" ? "selected" : "" %>>Odisha</option>
              <option value="punjab" <%= editing && house.houseState === "punjab" ? "selected" : "" %>>Punjab</option>
              <option value="rajasthan" <%= editing && house.houseState === "rajasthan" ? "selected" : "" %>>Rajasthan</option>
              <option value="sikkim" <%= editing && house.houseState === "sikkim" ? "selected" : "" %>>Sikkim</option>
              <option value="tamil-nadu" <%= editing && house.houseState === "tamil-nadu" ? "selected" : "" %>>Tamil Nadu</option>
              <option value="telangana" <%= editing && house.houseState === "telangana" ? "selected" : "" %>>Telangana</option>
              <option value="tripura" <%= editing && house.houseState === "tripura" ? "selected" : "" %>>Tripura</option>
              <option value="uttar-pradesh" <%= editing && house.houseState === "uttar-pradesh" ? "selected" : "" %>>Uttar Pradesh</option>
              <option value="uttarakhand" <%= editing && house.houseState === "uttarakhand" ? "selected" : "" %>>Uttarakhand</option>
              <option value="west-bengal" <%= editing && house.houseState === "west-bengal" ? "selected" : "" %>>West Bengal</option>

              <!-- Union Territories -->
              <option value="andaman-nicobar" <%= editing && house.houseState === "andaman-nicobar" ? "selected" : "" %>>Andaman and Nicobar Islands</option>
              <option value="chandigarh" <%= editing && house.houseState === "chandigarh" ? "selected" : "" %>>Chandigarh</option>
              <option value="dadra-nagar-haveli" <%= editing && house.houseState === "dadra-nagar-haveli" ? "selected" : "" %>>Dadra and Nagar Haveli and Daman and Diu</option>
              <option value="delhi" <%= editing && house.houseState === "delhi" ? "selected" : "" %>>Delhi (NCT)</option>
              <option value="jammu-kashmir" <%= editing && house.houseState === "jammu-kashmir" ? "selected" : "" %>>Jammu and Kashmir</option>
              <option value="ladakh" <%= editing && house.houseState === "ladakh" ? "selected" : "" %>>Ladakh</option>
              <option value="lakshadweep" <%= editing && house.houseState === "lakshadweep" ? "selected" : "" %>>Lakshadweep</option>
              <option value="puducherry" <%= editing && house.houseState === "puducherry" ? "selected" : "" %>>Puducherry</option>
          </select>
        </div>

        <!-- Price Field -->
        <div>
          <label for="housePrice" class="block mb-1 font-medium text-gray-700"
            >Price per day:</label
          >
          <input
            type="number"
            name="housePrice"
            id="housePrice"
            placeholder="Enter price per day"
            value="<%= editing ? house.housePrice : '' %>"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
          />
        </div>

        <!-- Photo Field -->
        <!-- with file input -->
        <!-- <div>
          <label for="housePhoto" class="block mb-1 font-medium text-gray-700">
            House Photo:
          </label>
          <input
            type="file"
            name="housePhoto"
            id="housePhoto"
            accept="image/*"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-red-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-red-500 file:text-white hover:file:bg-red-600 transition"
          />
        </div> -->

        <!-- with link input -->
        <div>
          <label
            for="housePhotoLink"
            class="block mb-1 font-medium text-gray-700"
            >House Photo Link:</label
          >
          <input
            type="text"
            name="housePhotoLink"
            id="housePhotoLink"
            placeholder="Enter your house photo link"
            value="<%= editing ? house.housePhotoLink : '' %>"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
          />
        </div>

        <!-- description -->
        <div>
          <label
            for="houseDescription"
            class="block mb-1 font-medium text-gray-700"
            >House Description:</label
          >
          <textarea
            name="houseDescription"
            id="houseDescription"
            placeholder="Enter house description"
            rows="6"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
          ><%= editing ? house.description : '' %></textarea>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button
            type="submit"
            class="bg-red-500 text-white px-6 py-2 rounded-md hover:bg-red-600 transition duration-300"
          >
            <%= editing ? "Update" : "Submit"%>
          </button>
        </div>
      </form>
    </div>
  </body>
</html>
